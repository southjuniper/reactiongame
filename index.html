<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reaction Speed Test</title>
  <link rel="stylesheet" href="style.css" />
   <!-- Farcaster / Base Mini App embed meta -->
  <meta
    name="fc:miniapp"
    content='{
      "version": "1",
      "imageUrl": "https://reactiongame-three.vercel.app/preview.png",
      "button": {
        "title": "Play",
        "action": {
          "type": "launch_miniapp",
          "name": "Reaction Test",
          "url": "https://reactiongame-three.vercel.app",
          "splashImageUrl": "https://reactiongame-three.vercel.app/icon.png",
          "splashBackgroundColor": "#0052ff"
        }
      }
    }'
  />
</head>
<body>

  <div class="container">
    <h1>Reaction Speed Test</h1>

    <p id="instructions">
      Tap "Start", wait for the box to turn green, then tap as fast as you can.
    </p>

    <div id="box">WAIT</div>

    <button id="startBtn">Start</button>

    <p id="result"></p>
  </div>

  <script src="game.js"></script>
  <!-- Mini App SDK: вызывает ready(), чтобы скрыть сплэш в Farcaster/Base -->
  <script type="module">
    import { sdk } from 'https://esm.sh/@farcaster/miniapp-sdk';

    window.addEventListener('load', async () => {
      try {
        await sdk.actions.ready();
        console.log('Mini app ready called');
      } catch (err) {
        // В обычном браузере SDK может не инициироваться – это нормально
        console.log('sdk.actions.ready() failed (probably not running inside Farcaster/Base):', err);
      }
    });
  </script>
</body>
</html>
